<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Add Product</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' type='text/css' media='screen' href='/CSS/index.css'>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
    </script>
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"
    integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="/js/SaveProduct.js"></script>
</head>

<body>
  <header></header>
  <form class="container" style="margin: 20px;" id="add-productForm" enctype="multipart/form-data">
    <div class="form-group">
      <label for="product-name">Product Name</label>
      <input type="text" class="form-control" id="product-name" placeholder="Enter name" style="width: 20%;">
    </div><br>
    <label for="select-product">Select Product Category</label>
    <select class="form-select" aria-label="Default select example" id="select-product" style="width: 20%;">
      <option selected>Select product</option>
      <option value="mouse">Mouse</option>
      <option value="keyboard">Keyboard</option>
      <option value="monitor">Monitor</option>
      <option value="processor">Processor</option>
    </select><br>
    <div class="mb-3">
      <label for="formFile" class="form-label">Select Image of Item</label>
      <input class="form-control" type="file" id="formFile" style="width: 20%;">
    </div>
    <div class="mb-3">
      <label for="small-description" class="form-label">Small description</label>
      <textarea class="form-control" id="small-description" rows="3" placeholder="Write product highlight"
        style="width: 40%;"></textarea>
    </div>
    <div class="mb-3">
      <label for="main-description" class="form-label">Main description</label>
      <textarea class="form-control" id="main-description" rows="3" placeholder="Write Main highlight"
        style="width: 40%;"></textarea>
    </div>
    <div class="form-group">
      <label for="product-price">Product Price</label>
      <input type="text" class="form-control" id="product-price" placeholder="EX: &#x20b9; 550 " style="width: 20%;">
    </div><br>
    <div class="form-group">
      <label for="stock">Stock</label>
      <input type="text" class="form-control" id="stock" placeholder="EX:12 " style="width: 20%;">
    </div>
    <br>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</body>
<script>
	fetch("./header.html")
  .then(response => {
    return response.text()
  })
  .then(data => {
    document.querySelector("header").innerHTML = data;
    if(localStorage.userName){
      
      if(localStorage.role=='admin'){
        console.log("hii "+localStorage.role);
        $("#admin").css("display","block");
      }
      $("#signup-login").hide();
      $("#username").show();
      $("#username-text").text(localStorage.userName);
      function logoutFunction(){
       console.log("hii");
  }
    }
    else{
      $("#signup-login").show();
      $("#username").hide();
    }
    
  });
  function logoutFuction(){
      if(confirm("You will get logout")){
        $.ajax({
          url:"http://localhost:8080/logout",
          data:{id:localStorage.userId},
          success:function(response){
            $("#signup-login").show();
            $("#username").hide();
            $("#admin").hide();
            localStorage.clear();
            location.reload();
          }
        })
      }
    }

</script>
</html>